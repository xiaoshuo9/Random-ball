# Random-ball
Particle generation using grid element method
采用网格单元法生成颗粒，基本原理与EDEM生成颗粒检测算法相同。
注意：程序中xyz取值应大于等于0
元胞数据类型：x,y,z,r

step1:设定方盒子范围、颗粒半径列表等参数
step2:设定网格单元法网格大小meshsize
step3:生成颗粒
step4:接触检测
step5:保存颗粒信息或重新生成颗粒

其中，接触检测包括：
step1:获取当前生成颗粒信息、存储位置即所在单元格的索引
step2:将当前信息与所在单元格及相邻单元格内的颗粒做接触检测
step3:无重叠返回flase，重叠返回true
接触检测单元格的索引获取：以xindex为例，xindex/meshsize后向上取整
接触检测通过颗粒球心的距离判断

其中，关于相邻单元格索引的获取：
相邻单元格索引的获取通过遍历+判断实现
当前颗粒所在单元格可划分为4类：顶点(8个)、棱边(12条)、侧面(6面)、内部区域
对应的相邻区域分别有8、12、、18、27个
当前单元格(i,j,k)相邻单元格的索引是固定的，由i、j、k、i+1、j+1、k+1、i-1、j-1、k-1构成
先遍历出27个相邻单元格的索引，再根据索引性质、取值范围来判断相邻单元格索引的有效性，如顶点单元格的索引不可能大于最大索引
昨晚有效性判断后，再将有效的个数与当前单元格的类型对比，若为内部单元格，共应具有27组索引值，进一步确保计算正确
